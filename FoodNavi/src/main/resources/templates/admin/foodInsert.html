<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<th:block th:insert="~{/admin/include/headerAdmin}"></th:block>

<meta charset="UTF-8">

<title>User Info</title>

<h1><a href="admin_main">FoodNavi</a></h1>

<article id="box">
    <h2>Food Insert</h2>
    <form method="post" action="admin_food_insert" enctype="multipart/form-data">
        <table>
            <tr>
                <th><label for="img">이미지 첨부 :</label></th>
                <td><input type="file" id="img" name="img" accept="food_images/*"></td>
            </tr>
            <tr>
                <th>이름</th>
                <td><input type="text" name="name"/></td>
            </tr>
            <tr>
                <th>칼로리(kcal)</th>
                <td><input type="number" name="kcal"/></td>
            </tr>
            <tr>
                <th>탄수화물(g)</th>
                <td><input type="number" name="carb"/></td>
            </tr>
            <tr>
                <th>단백질(g)</th>
                <td><input type="number" name="prt"/></td>
            </tr>
            <tr>
                <th>지방(g)</th>
                <td><input type="number" name="fat"/></td>
            </tr>
        </table>

        <h2>재료</h2>
        <table id="mytable">
            <thead>
            <tr>
                <th>재료</th>
                <th>수량</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <input type="button" class="button" id='btn-add-row' value="행 추가">
            <tr>
                <td><input type="text" name="ingredient"></td>
                <td><input type="number" name="quantity">g</td>
                <td>
                    <input type="button" class="button" id="btn-delete-row" value="삭제">
            </tr>
            </td>
            </tr>
            </tbody>
        </table>

        <script src="//code.jquery.com/jquery.min.js"></script>
        <script>
            $(document).on('keydown', function (event) {
                if (event.key == "Enter") {
                    event.preventDefault();
                    $('#mytable > tbody:last').append('<tr><td><input type="text" name="ingredient"></td>' +
                        '<td><input type="number" name="quantity">g</td>' +
                        '<td><input type="button" class="button" id="btn-delete-row" value="삭제"></td></tr>');
                }
            });

            $('#btn-add-row').click(function () {
                var time = new Date().toLocaleTimeString();
                event.preventDefault();
                $('#mytable > tbody:last').append('<tr><td><input type="text" name="ingredient"></td>' +
                    '<td><input type="number" name="quantity">g</td>' +
                    '<td><input type="button" class="button" id="btn-delete-row" value="삭제"></td></tr>');
            });

            $('#mytable').on('click', '#btn-delete-row', function () {
                event.preventDefault();
                $(this).closest('tr').remove();
            });
        </script>

        <div class="field">
            <label for="dietType">식단 종류</label>
            <select name="healthyType" id="dietType">
                <option value="healthyFood">건강식</option>
                <option value="diabeticDiet">당뇨식</option>
                <option value="lowSaltDiet">저염식</option>
                <option value="lowCarbohydrate">저탄고지</option>
            </select>
        </div>

        <div class="field">
            <label for="foodCountry">나라별 음식</label>
            <select name="exerciseType" id="foodCountry">
                <option value="koreanFood">한식</option>
                <option value="westernFood">양식</option>
                <option value="chineseFood">중식</option>
                <option value="japaneseFood">일식</option>
                <option value="asianFood">동남아식</option>
                <option value="fusionFood">퓨전식</option>
            </select>
        </div>
        <div class="adminButton">
            <input type="submit" class="button" value="등록하기">
            <input type="reset" class="button" value="다시하기">
        </div>
    </form>
    <a href="admin_food_list">
        <button>등록취소</button>
    </a>
</article>
<th:block th:insert="~{/includes/footer}"></th:block>